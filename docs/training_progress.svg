<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 750" width="1000" height="750">
  <defs>
    <style>
      .title { font: bold 28px 'Segoe UI', Arial, sans-serif; fill: #ffffff; }
      .subtitle { font: 16px 'Segoe UI', Arial, sans-serif; fill: #a0aec0; }
      .axis-label { font: 13px 'Segoe UI', Arial, sans-serif; fill: #ffffff; }
      .tick-label { font: 11px 'Segoe UI', Arial, sans-serif; fill: #a0aec0; }
      .legend-text { font: 12px 'Segoe UI', Arial, sans-serif; fill: #ffffff; }
      .annotation { font: 11px 'Segoe UI', Arial, sans-serif; fill: #ffffff; }
      .summary { font: 11px 'Consolas', monospace; fill: #ffffff; }
      .value-label { font: 10px 'Segoe UI', Arial, sans-serif; fill: #ffffff; }
    </style>
    <linearGradient id="conv2Gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4fd1c5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2c7a7b;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="conv3Gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f6ad55;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c05621;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="1000" height="750" fill="#1a202c"/>

  <!-- Title -->
  <text x="500" y="35" text-anchor="middle" class="title">SpikeSPACE STDP Training Progress</text>

  <!-- ============================================================ -->
  <!-- PLOT 1: Convergence (top) -->
  <!-- ============================================================ -->

  <!-- Plot area -->
  <rect x="100" y="60" width="850" height="280" fill="#2d3748" rx="6"/>

  <!-- Subtitle -->
  <text x="525" y="85" text-anchor="middle" class="subtitle">Weight Convergence (C_l &lt; 0.01)</text>

  <!-- Legend -->
  <rect x="130" y="95" width="12" height="12" fill="#4fd1c5" rx="2"/>
  <text x="147" y="105" class="legend-text">Conv2 (36 features)</text>
  <rect x="280" y="95" width="12" height="12" fill="#f6ad55" rx="2"/>
  <text x="297" y="105" class="legend-text">Conv3 (1 feature)</text>
  <line x1="420" y1="101" x2="455" y2="101" stroke="#ecc94b" stroke-width="2" stroke-dasharray="6,3"/>
  <text x="460" y="105" class="legend-text">Target (90%)</text>

  <!-- Y-axis: 0% at y=320, 100% at y=120 (200px range) -->
  <!-- Grid lines and labels -->
  <line x1="140" y1="120" x2="920" y2="120" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="124" text-anchor="end" class="tick-label">100%</text>

  <line x1="140" y1="170" x2="920" y2="170" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="174" text-anchor="end" class="tick-label">75%</text>

  <line x1="140" y1="220" x2="920" y2="220" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="224" text-anchor="end" class="tick-label">50%</text>

  <line x1="140" y1="270" x2="920" y2="270" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="274" text-anchor="end" class="tick-label">25%</text>

  <line x1="140" y1="320" x2="920" y2="320" stroke="#4a5568" stroke-width="1"/>
  <text x="130" y="324" text-anchor="end" class="tick-label">0%</text>

  <!-- 90% threshold line: y = 320 - (90/100)*200 = 320 - 180 = 140 -->
  <line x1="140" y1="140" x2="920" y2="140" stroke="#ecc94b" stroke-width="2" stroke-dasharray="8,4"/>

  <!-- Y-axis label -->
  <text x="50" y="220" text-anchor="middle" class="axis-label" transform="rotate(-90, 50, 220)">Convergence (%)</text>

  <!-- X-axis: epochs 1-21, x from 160 to 900 (740px for 21 points, ~35px each) -->
  <!-- Conv2 data: epochs 1-20 -->
  <!-- Convergence values: 2.8, 19.4, 38.9, 72.2, 72.2, 72.2, 75.0, 75.0, 75.0, 77.8, 80.6, 80.6, 80.6, 80.6, 83.3, 83.3, 83.3, 86.1, 86.1, 91.7 -->
  <!-- y = 320 - (value/100)*200 -->

  <!-- Epoch positions: 160 + (epoch-1)*35 -->
  <!-- E1=160, E2=195, E3=230, E4=265, E5=300, E6=335, E7=370, E8=405, E9=440, E10=475 -->
  <!-- E11=510, E12=545, E13=580, E14=615, E15=650, E16=685, E17=720, E18=755, E19=790, E20=825, E21=860 -->

  <!-- Conv2 line -->
  <polyline
    points="160,314 195,281 230,242 265,176 300,176 335,176 370,170 405,170 440,170 475,164 510,159 545,159 580,159 615,159 650,153 685,153 720,153 755,148 790,148 825,137"
    fill="none" stroke="#4fd1c5" stroke-width="3" stroke-linejoin="round"/>

  <!-- Conv2 data points -->
  <circle cx="160" cy="314" r="4" fill="#4fd1c5"/>
  <circle cx="195" cy="281" r="4" fill="#4fd1c5"/>
  <circle cx="230" cy="242" r="4" fill="#4fd1c5"/>
  <circle cx="265" cy="176" r="4" fill="#4fd1c5"/>
  <circle cx="300" cy="176" r="4" fill="#4fd1c5"/>
  <circle cx="335" cy="176" r="4" fill="#4fd1c5"/>
  <circle cx="370" cy="170" r="4" fill="#4fd1c5"/>
  <circle cx="405" cy="170" r="4" fill="#4fd1c5"/>
  <circle cx="440" cy="170" r="4" fill="#4fd1c5"/>
  <circle cx="475" cy="164" r="4" fill="#4fd1c5"/>
  <circle cx="510" cy="159" r="4" fill="#4fd1c5"/>
  <circle cx="545" cy="159" r="4" fill="#4fd1c5"/>
  <circle cx="580" cy="159" r="4" fill="#4fd1c5"/>
  <circle cx="615" cy="159" r="4" fill="#4fd1c5"/>
  <circle cx="650" cy="153" r="4" fill="#4fd1c5"/>
  <circle cx="685" cy="153" r="4" fill="#4fd1c5"/>
  <circle cx="720" cy="153" r="4" fill="#4fd1c5"/>
  <circle cx="755" cy="148" r="4" fill="#4fd1c5"/>
  <circle cx="790" cy="148" r="4" fill="#4fd1c5"/>
  <circle cx="825" cy="137" r="5" fill="#4fd1c5" stroke="#fff" stroke-width="2"/>

  <!-- Conv3 line (epoch 20->21: 91.7% to 100%) -->
  <line x1="825" y1="137" x2="860" y2="120" stroke="#f6ad55" stroke-width="3"/>
  <circle cx="860" cy="120" r="5" fill="#f6ad55" stroke="#fff" stroke-width="2"/>

  <!-- Annotations -->
  <text x="835" y="130" class="value-label" fill="#4fd1c5">91.7%</text>
  <text x="870" y="118" class="value-label" fill="#f6ad55">100%</text>

  <!-- Layer transition line -->
  <line x1="842" y1="110" x2="842" y2="325" stroke="#ffffff" stroke-width="1" stroke-dasharray="4,4" opacity="0.4"/>
  <text x="850" y="310" class="tick-label" opacity="0.6">Layer</text>
  <text x="850" y="322" class="tick-label" opacity="0.6">Switch</text>

  <!-- X-axis labels -->
  <text x="160" y="335" text-anchor="middle" class="tick-label">1</text>
  <text x="265" y="335" text-anchor="middle" class="tick-label">4</text>
  <text x="370" y="335" text-anchor="middle" class="tick-label">7</text>
  <text x="475" y="335" text-anchor="middle" class="tick-label">10</text>
  <text x="580" y="335" text-anchor="middle" class="tick-label">13</text>
  <text x="685" y="335" text-anchor="middle" class="tick-label">16</text>
  <text x="790" y="335" text-anchor="middle" class="tick-label">19</text>
  <text x="860" y="335" text-anchor="middle" class="tick-label">21</text>

  <!-- ============================================================ -->
  <!-- PLOT 2: Spikes (bottom) -->
  <!-- ============================================================ -->

  <!-- Plot area -->
  <rect x="100" y="360" width="850" height="280" fill="#2d3748" rx="6"/>

  <!-- Subtitle -->
  <text x="525" y="385" text-anchor="middle" class="subtitle">Spike Activity per Epoch</text>

  <!-- Legend -->
  <rect x="130" y="395" width="12" height="12" fill="url(#conv2Gradient)" rx="2"/>
  <text x="147" y="405" class="legend-text">Conv2</text>
  <rect x="210" y="395" width="12" height="12" fill="url(#conv3Gradient)" rx="2"/>
  <text x="227" y="405" class="legend-text">Conv3</text>

  <!-- Y-axis: 0 at y=620, 90k at y=420 (200px range) -->
  <!-- Scale: 1k = 200/90 = 2.22px -->
  <line x1="140" y1="420" x2="920" y2="420" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="424" text-anchor="end" class="tick-label">90k</text>

  <line x1="140" y1="470" x2="920" y2="470" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="474" text-anchor="end" class="tick-label">70k</text>

  <line x1="140" y1="520" x2="920" y2="520" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="524" text-anchor="end" class="tick-label">50k</text>

  <line x1="140" y1="570" x2="920" y2="570" stroke="#4a5568" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="130" y="574" text-anchor="end" class="tick-label">30k</text>

  <line x1="140" y1="620" x2="920" y2="620" stroke="#4a5568" stroke-width="1"/>
  <text x="130" y="624" text-anchor="end" class="tick-label">0</text>

  <!-- Y-axis label -->
  <text x="50" y="520" text-anchor="middle" class="axis-label" transform="rotate(-90, 50, 520)">Spikes (thousands)</text>

  <!-- Spike data bars -->
  <!-- Spikes: 82165, 24349, 20738, 21219, 20202, 20523, 19749, 20672, 20978, 20109, 19787, 19597, 19396, 19574, 19120, 19009, 18559, 17210, 18151, 16996, 1252 -->
  <!-- y = 620, height = spikes/90000 * 200 -->
  <!-- bar width = 28, centered on epoch x positions -->

  <!-- E1: 82165 → h=183 -->
  <rect x="146" y="437" width="28" height="183" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E2: 24349 → h=54 -->
  <rect x="181" y="566" width="28" height="54" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E3: 20738 → h=46 -->
  <rect x="216" y="574" width="28" height="46" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E4: 21219 → h=47 -->
  <rect x="251" y="573" width="28" height="47" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E5: 20202 → h=45 -->
  <rect x="286" y="575" width="28" height="45" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E6: 20523 → h=46 -->
  <rect x="321" y="574" width="28" height="46" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E7: 19749 → h=44 -->
  <rect x="356" y="576" width="28" height="44" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E8: 20672 → h=46 -->
  <rect x="391" y="574" width="28" height="46" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E9: 20978 → h=47 -->
  <rect x="426" y="573" width="28" height="47" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E10: 20109 → h=45 -->
  <rect x="461" y="575" width="28" height="45" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E11: 19787 → h=44 -->
  <rect x="496" y="576" width="28" height="44" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E12: 19597 → h=44 -->
  <rect x="531" y="576" width="28" height="44" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E13: 19396 → h=43 -->
  <rect x="566" y="577" width="28" height="43" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E14: 19574 → h=43 -->
  <rect x="601" y="577" width="28" height="43" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E15: 19120 → h=42 -->
  <rect x="636" y="578" width="28" height="42" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E16: 19009 → h=42 -->
  <rect x="671" y="578" width="28" height="42" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E17: 18559 → h=41 -->
  <rect x="706" y="579" width="28" height="41" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E18: 17210 → h=38 -->
  <rect x="741" y="582" width="28" height="38" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E19: 18151 → h=40 -->
  <rect x="776" y="580" width="28" height="40" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E20: 16996 → h=38 -->
  <rect x="811" y="582" width="28" height="38" fill="url(#conv2Gradient)" rx="2"/>
  <!-- E21 (Conv3): 1252 → h=3 -->
  <rect x="846" y="617" width="28" height="3" fill="url(#conv3Gradient)" rx="1"/>

  <!-- Annotations -->
  <line x1="174" y1="437" x2="240" y2="470" stroke="#ffffff" stroke-width="1"/>
  <text x="245" y="468" class="annotation">Initial spike</text>
  <text x="245" y="482" class="annotation">explosion (82k)</text>

  <line x1="580" y1="570" x2="620" y2="530" stroke="#ffffff" stroke-width="1"/>
  <text x="580" y="525" class="annotation">Stabilized ~20k</text>

  <!-- Layer transition line -->
  <line x1="842" y1="410" x2="842" y2="625" stroke="#ffffff" stroke-width="1" stroke-dasharray="4,4" opacity="0.4"/>

  <!-- X-axis label -->
  <text x="525" y="640" text-anchor="middle" class="axis-label">Epoch</text>

  <!-- ============================================================ -->
  <!-- Summary Boxes -->
  <!-- ============================================================ -->

  <!-- Training Summary -->
  <rect x="100" y="665" width="320" height="70" fill="#2d3748" stroke="#4a5568" stroke-width="1" rx="4"/>
  <text x="115" y="688" class="summary" font-weight="bold">Training Summary</text>
  <text x="115" y="705" class="summary">• Total time: 3h 8m (11,288 seconds)</text>
  <text x="115" y="720" class="summary">• Hardware: NVIDIA H100 | Samples: 48</text>

  <!-- Final Convergence -->
  <rect x="440" y="665" width="510" height="70" fill="#2d3748" stroke="#4a5568" stroke-width="1" rx="4"/>
  <text x="455" y="688" class="summary" font-weight="bold">Final Convergence</text>

  <!-- Conv1 box -->
  <rect x="455" y="698" width="100" height="28" fill="#4a5568" rx="4"/>
  <text x="505" y="716" text-anchor="middle" class="legend-text">Conv1: 0%</text>
  <text x="505" y="740" text-anchor="middle" class="tick-label">(fixed DoG)</text>

  <!-- Conv2 box -->
  <rect x="575" y="698" width="140" height="28" fill="#4fd1c5" rx="4"/>
  <text x="645" y="716" text-anchor="middle" class="legend-text" fill="#1a202c">Conv2: 91.7%</text>
  <text x="645" y="740" text-anchor="middle" class="tick-label">(33/36 features)</text>

  <!-- Conv3 box -->
  <rect x="735" y="698" width="140" height="28" fill="#f6ad55" rx="4"/>
  <text x="805" y="716" text-anchor="middle" class="legend-text" fill="#1a202c">Conv3: 100%</text>
  <text x="805" y="740" text-anchor="middle" class="tick-label">(1/1 features)</text>

</svg>